/* POS dark/yellow skin inspired by Pulpos mock */
body.pulpos-pos {
  --pos-bg: #0d0d0f;
  --pos-panel: #141419;
  --pos-panel-soft: #1a1a21;
  --pos-border: #24242c;
  --pos-text: #f7f7f7;
  --pos-text-dim: #c9c9ce;
  --pos-accent: #ffc600;
  --pos-card: #191920;
  background-color: var(--pos-bg);
  color: var(--pos-text);
}

/* Page chrome */
body.pulpos-pos .page-container,
body.pulpos-pos .page-head,
body.pulpos-pos .page-title,
body.pulpos-pos .page-head-content,
body.pulpos-pos .page-form,
body.pulpos-pos .layout-main-section,
body.pulpos-pos .layout-side-section,
body.pulpos-pos .page-body,
body.pulpos-pos .standard-page {
  background: var(--pos-bg) !important;
  color: var(--pos-text);
  box-shadow: none !important;
}

/* Page title (Punto de Venta) to light text */
body.pulpos-pos .page-title .title-text,
body.pulpos-pos .page-head .title-text,
body.pulpos-pos .page-head .title-text h3 {
  color: var(--pos-text) !important;
}

/* React POS shell */
body.pulpos-pos .point-of-sale-app {
  background: var(--pos-bg) !important;
  color: var(--pos-text);
}

/* Kill any blocking overlay/backdrop in POS view */
body.pulpos-pos .freeze,
body.pulpos-pos .freeze-modal,
body.pulpos-pos .modal-backdrop {
  display: none !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

body.pulpos-pos .point-of-sale-app section {
  background: var(--pos-panel) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 14px;
  color: var(--pos-text);
  box-shadow: none !important;
}

/* Filters / search bar */
body.pulpos-pos .page-form,
body.pulpos-pos .pos-page-filters,
body.pulpos-pos .pos .filter-area {
  background: var(--pos-bg) !important;
  border-bottom: 1px solid var(--pos-border);
  padding-bottom: 12px;
}

body.pulpos-pos input,
body.pulpos-pos select,
body.pulpos-pos .form-control,
body.pulpos-pos .input-with-feedback,
body.pulpos-pos .awesomplete > input,
body.pulpos-pos .pos .search-bar input {
  background: var(--pos-panel-soft) !important;
  color: var(--pos-text) !important;
  border: 1px solid var(--pos-border) !important;
  box-shadow: none !important;
}

body.pulpos-pos ::placeholder {
  color: var(--pos-text-dim) !important;
}

/* Item grid */
body.pulpos-pos .pos .items-section,
body.pulpos-pos .pos .item-container,
body.pulpos-pos .pos .item-card,
body.pulpos-pos .pos .item-wrapper,
body.pulpos-pos .pos .pos-items,
body.pulpos-pos .pos .items-area,
body.pulpos-pos .pos .item-list,
body.pulpos-pos .pos .pos-items-wrapper {
  background: var(--pos-bg) !important;
  border-color: var(--pos-border) !important;
}

/* Hide scrollbars until hover */
body.pulpos-pos .pos .pos-items,
body.pulpos-pos .pos .items-area,
body.pulpos-pos .pos .pos-items-wrapper {
  scrollbar-width: none; /* Firefox */
}
body.pulpos-pos .pos .pos-items::-webkit-scrollbar,
body.pulpos-pos .pos .items-area::-webkit-scrollbar,
body.pulpos-pos .pos .pos-items-wrapper::-webkit-scrollbar {
  width: 0;
  height: 0;
}
body.pulpos-pos .pos .pos-items:hover,
body.pulpos-pos .pos .items-area:hover,
body.pulpos-pos .pos .pos-items-wrapper:hover {
  scrollbar-width: thin;
}
body.pulpos-pos .pos .pos-items:hover::-webkit-scrollbar,
body.pulpos-pos .pos .items-area:hover::-webkit-scrollbar,
body.pulpos-pos .pos .pos-items-wrapper:hover::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
body.pulpos-pos .pos .pos-items:hover::-webkit-scrollbar-thumb,
body.pulpos-pos .pos .items-area:hover::-webkit-scrollbar-thumb,
body.pulpos-pos .pos .pos-items-wrapper:hover::-webkit-scrollbar-thumb {
  background: var(--pos-border);
  border-radius: 4px;
}
body.pulpos-pos .pos .pos-items:hover::-webkit-scrollbar-track,
body.pulpos-pos .pos .items-area:hover::-webkit-scrollbar-track,
body.pulpos-pos .pos .pos-items-wrapper:hover::-webkit-scrollbar-track {
  background: transparent;
}

body.pulpos-pos .pos .item-card {
  background: var(--pos-card) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 14px;
  box-shadow: none !important;
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: var(--pos-text);
  min-height: 220px;
  width: 180px;
}

body.pulpos-pos .pos .item-card:hover {
  border-color: var(--pos-accent) !important;
}

body.pulpos-pos .pos .item-card .item-name,
body.pulpos-pos .pos .item-card .item-price {
  color: var(--pos-text) !important;
}

/* Normalize item image/abbr blocks to square tiles */
body.pulpos-pos .pos .item-card .item-display,
body.pulpos-pos .pos .item-card .item-img,
body.pulpos-pos .pos .item-card img {
  height: 140px !important;
  width: 100%;
  object-fit: contain;
  border-radius: 12px;
  background: var(--pos-panel-soft) !important;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--pos-text-dim);
  font-weight: 600;
  font-size: 22px;
  overflow: hidden;
}

body.pulpos-pos .pos .item-card img,
body.pulpos-pos .pos .item-card .item-img {
  opacity: 1 !important;
  filter: none !important;
  display: block;
}

/* Keep detail text aligned under image block */
body.pulpos-pos .pos .item-card .item-detail {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 2px;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  body.pulpos-pos .point-of-sale-app {
    padding: 8px;
  }
  body.pulpos-pos .point-of-sale-app section {
    width: 100% !important;
    margin: 0 0 12px 0 !important;
  }
  body.pulpos-pos .pos .items-section,
  body.pulpos-pos .pos .items-area,
  body.pulpos-pos .pos .pos-items {
    max-height: unset;
  }
  body.pulpos-pos .pos .item-card {
    width: 45%;
    min-height: 200px;
  }
  body.pulpos-pos .pos .item-card .item-display,
  body.pulpos-pos .pos .item-card .item-img,
  body.pulpos-pos .pos .item-card img {
    height: 120px !important;
  }
}

body.pulpos-pos .point-of-sale-app .items-selector .filter-section {
  background: var(--pos-bg) !important;
  border: none !important;
}

body.pulpos-pos .point-of-sale-app .item-qty-pill .indicator-pill {
  background: var(--pos-panel-soft) !important;
  border: 1px solid var(--pos-border) !important;
  color: var(--pos-text-dim) !important;
}

/* Hide extra filters to simplify */
body.pulpos-pos .point-of-sale-app .past-order-list,
body.pulpos-pos .point-of-sale-app .past-order-summary,
body.pulpos-pos .point-of-sale-app .customer-section .customer-field + .help-box,
body.pulpos-pos .point-of-sale-app .filter-section .label {
  display: none !important;
}

/* Darken cart container (abs-cart-container wrapper) */
body.pulpos-pos .point-of-sale-app .abs-cart-container {
  background: var(--pos-panel) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 12px;
  color: var(--pos-text) !important;
}

/* Hide customer picker (we auto-set a default) */
body.pulpos-pos .point-of-sale-app .customer-section {
  display: none !important;
}

/* Cart / summary */
body.pulpos-pos .pos .cart-container,
body.pulpos-pos .pos .cart-items,
body.pulpos-pos .pos .cart-item,
body.pulpos-pos .pos .summary-section,
body.pulpos-pos .pos .payment-container,
body.pulpos-pos .pos .pos-bill,
body.pulpos-pos .pos .basket-items,
body.pulpos-pos .point-of-sale-app .cart-container,
body.pulpos-pos .point-of-sale-app .cart-items-section,
body.pulpos-pos .point-of-sale-app .cart-totals-section,
body.pulpos-pos .point-of-sale-app .payment-container,
body.pulpos-pos .point-of-sale-app .numpad-section,
body.pulpos-pos .point-of-sale-app .numpad-totals,
body.pulpos-pos .point-of-sale-app .totals-section {
  background: var(--pos-panel) !important;
  border-color: var(--pos-border) !important;
  color: var(--pos-text) !important;
}

/* Slightly lighter background for empty-cart placeholder */
body.pulpos-pos .point-of-sale-app > .customer-cart-container > .cart-container > .abs-cart-container .no-item-wrapper {
  background-color: var(--pos-panel-soft) !important;
  color: var(--pos-text-dim) !important;
  box-shadow: none !important;
  border-radius: 12px;
}

body.pulpos-pos .pos .cart-container .cart-item,
body.pulpos-pos .pos .basket-items .row,
body.pulpos-pos .pos .basket-items .item-row {
  background: var(--pos-panel-soft) !important;
  border-bottom: 1px solid var(--pos-border) !important;
}

body.pulpos-pos .pos .totals,
body.pulpos-pos .pos .summary,
body.pulpos-pos .pos .payment-container .amount,
body.pulpos-pos .pos .cart-container .total,
body.pulpos-pos .pos .net-total,
body.pulpos-pos .pos .grand-total,
body.pulpos-pos .pos .cart-container .cart-summary {
  color: var(--pos-text) !important;
}

/* Buttons */
body.pulpos-pos .pos .btn-primary,
body.pulpos-pos .pos .primary-action,
body.pulpos-pos .btn.btn-primary,
body.pulpos-pos .btn.btn-primary:focus,
body.pulpos-pos .btn.btn-primary:hover {
  background: var(--pos-accent) !important;
  border-color: var(--pos-accent) !important;
  color: #000 !important;
  box-shadow: none !important;
}

body.pulpos-pos .pos .btn,
body.pulpos-pos .pos .btn-default,
body.pulpos-pos .pos .btn-secondary {
  background: var(--pos-panel-soft) !important;
  border-color: var(--pos-border) !important;
  color: var(--pos-text) !important;
  box-shadow: none !important;
}

/* Pay footer */
body.pulpos-pos .pos .pay-section,
body.pulpos-pos .pos .cart-footer,
body.pulpos-pos .pos .payment-dialog {
  background: var(--pos-panel) !important;
  border-top: 1px solid var(--pos-border) !important;
}

body.pulpos-pos .point-of-sale-app .cart-label,
body.pulpos-pos .point-of-sale-app .label,
body.pulpos-pos .point-of-sale-app .section-label {
  color: var(--pos-text) !important;
}

body.pulpos-pos .point-of-sale-app .checkout-btn,
body.pulpos-pos .point-of-sale-app .submit-order-btn,
body.pulpos-pos .point-of-sale-app .numpad-btn.checkout-btn {
  background: var(--pos-accent) !important;
  border: 1px solid var(--pos-accent) !important;
  color: #000 !important;
  box-shadow: none !important;
}

body.pulpos-pos .point-of-sale-app .numpad-btn,
body.pulpos-pos .point-of-sale-app .number-pad .numpad-btn {
  background: var(--pos-panel-soft) !important;
  border: 1px solid var(--pos-border) !important;
  color: var(--pos-text) !important;
}

body.pulpos-pos .point-of-sale-app .customer-section,
body.pulpos-pos .point-of-sale-app .payment-container,
body.pulpos-pos .point-of-sale-app .past-order-list,
body.pulpos-pos .point-of-sale-app .past-order-summary {
  background: var(--pos-panel) !important;
  border-color: var(--pos-border) !important;
}

/* Quick-pay pill buttons */
body.pulpos-pos .pulpos-quick-pay {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}
body.pulpos-pos .pulpos-quick-pay button {
  padding: 8px 12px;
  background: var(--pos-panel-soft);
  color: var(--pos-text);
  border: 1px solid var(--pos-border);
  border-radius: 10px;
}
body.pulpos-pos .pulpos-quick-pay button:hover {
  border-color: var(--pos-accent);
  color: var(--pos-accent);
}

/* Filter bar layout: search + button aligned */
body.pulpos-pos .pulpos-filter-bar {
  display: flex !important;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  position: relative;
  justify-content: space-between;
  width: 100%;
  grid-template-columns: none !important; /* override POS grid */
}
body.pulpos-pos .point-of-sale-app .items-selector .filter-section.pulpos-filter-bar {
  display: flex !important;
  grid-template-columns: none !important;
}
body.pulpos-pos .pulpos-filter-bar .frappe-control,
body.pulpos-pos .pulpos-filter-bar .control-input-wrapper {
  flex: 1 1 auto;
  min-width: 220px;
}
body.pulpos-pos .pulpos-filter-bar .search-bar {
  flex: 1 1 auto;
}
body.pulpos-pos .pulpos-filter-bar .search-field {
  flex: 1 1 auto;
  min-width: 240px;
}
body.pulpos-pos .pulpos-filter-bar .label {
  display: none !important;
}
body.pulpos-pos .pulpos-filter-btn {
  background: var(--pos-panel-soft) !important;
  color: var(--pos-text) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 10px !important;
  padding: 8px 12px !important;
  cursor: pointer;
  white-space: nowrap;
  height: 38px;
  display: inline-flex;
  align-items: center;
  margin-left: auto;
  margin-right: 0;
}
body.pulpos-pos .pulpos-filter-menu {
  position: absolute;
  right: 0;
  top: 105%;
  min-width: 200px;
  background: var(--pos-panel);
  border: 1px solid var(--pos-border);
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
  z-index: 99;
  display: none;
}
body.pulpos-pos .pulpos-filter-menu.show {
  display: block;
}

/* Pagination (rows-per-page) */
body.pulpos-pos .pulpos-pagination-controls {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}
body.pulpos-pos .pulpos-pagination-controls .pulpos-rows-label {
  color: var(--pos-text-dim);
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
body.pulpos-pos .pulpos-pagination-controls select.pulpos-rows-select {
  background: var(--pos-panel-soft) !important;
  color: var(--pos-text) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 8px;
  height: 34px;
  padding: 4px 8px;
}
body.pulpos-pos .pulpos-pagination-controls .pulpos-pagination-btn {
  background: var(--pos-panel-soft) !important;
  color: var(--pos-text) !important;
  border: 1px solid var(--pos-border) !important;
  border-radius: 10px !important;
  padding: 8px 12px !important;
  cursor: pointer;
  white-space: nowrap;
  height: 34px;
  line-height: 16px;
}
body.pulpos-pos .pulpos-pagination-controls .pulpos-pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
body.pulpos-pos .pulpos-pagination-controls .pulpos-page-indicator {
  color: var(--pos-text);
  font-weight: 600;
  min-width: 60px;
  text-align: center;
}

/* Hide item group control except inside dropdown */
body.pulpos-pos .point-of-sale-app .item-group-field {
  display: none !important;
}
body.pulpos-pos .pulpos-filter-menu .item-group-field {
  display: block !important;
}

/* Keep cart item hover visible on light hover background */
body.pulpos-pos .pos .cart-container .cart-item:hover,
body.pulpos-pos .pos .basket-items .item-row:hover,
body.pulpos-pos .point-of-sale-app .cart-container .cart-item:hover {
  background: #ffffff !important;
  color: #0d0d0f !important;
  --pos-text: #0d0d0f !important; /* override light text within cart item on hover */
}
body.pulpos-pos .pos .cart-container .cart-item:hover .item-title,
body.pulpos-pos .pos .cart-container .cart-item:hover .product-name,
body.pulpos-pos .pos .cart-container .cart-item:hover .item-name,
body.pulpos-pos .pos .cart-container .cart-item:hover .item-subtitle,
body.pulpos-pos .pos .basket-items .item-row:hover .item-name,
body.pulpos-pos .pos .basket-items .item-row:hover .item-subtitle {
  color: #0d0d0f !important;
}
body.pulpos-pos .pos .cart-container .cart-item:hover *,
body.pulpos-pos .pos .cart-container .cart-item:hover .qty,
body.pulpos-pos .pos .cart-container .cart-item:hover .amount,
body.pulpos-pos .pos .cart-container .cart-item:hover .rate,
body.pulpos-pos .pos .cart-container .cart-item:hover .discount,
body.pulpos-pos .pos .cart-container .cart-item:hover .item-qty,
body.pulpos-pos .pos .cart-container .cart-item:hover .item-amount,
body.pulpos-pos .pos .cart-container .cart-item:hover .flex,
body.pulpos-pos .pos .cart-container .cart-item:hover span,
body.pulpos-pos .pos .cart-container .cart-item:hover div {
  color: #0d0d0f !important;
}
